[.conf-macro .output-inline]##

[cols="",options="header",]
|===
|Plugin Information
|View RapidDeploy https://plugins.jenkins.io/rapiddeploy-jenkins[on the
plugin site] for more information.
|===

[.aui-icon .aui-icon-small .aui-iconfont-error .confluence-information-macro-icon]#
#

The current version of this plugin may not be safe to use. Please review
the following warnings before use:

* https://jenkins.io/security/advisory/2019-12-17/#SECURITY-1604[CSRF
vulnerability and missing permission checks allow SSRF]

[[RapidDeployplugin-Developedby]]
===== Developed by

http://www.midvision.com/[[.confluence-embedded-file-wrapper]#image:docs/images/logo-dark.png[image]#]

[[RapidDeployplugin-Summary]]
== Summary

[.conf-macro .output-inline]#This plugin provides the best way of using
all the functionality and benefits of
_https://www.midvision.com/rapiddeploy-overview[RapidDeploy]_ from a
_Jenkins_ job or pipeline. For the moment, this functionality includes:#

* Creating a deployment package on _RapidDeploy._
* Deploying a project on _RapidDeploy._
* Running a job plan on _RapidDeploy._

It is strictly necessary the version of _RapidDeploy_ targeted when
using this plugin is 3.3.23 or higher. Some of the features provided may
also require a higher version of _RapidDeploy_ for specific
functionality.

[[RapidDeployplugin-Tasks]]
== Tasks

[[RapidDeployplugin-RapidDeployprojectdeployment]]
=== *_RapidDeploy project deployment_*

Invokes a project deployment on a _RapidDeploy_ server as either a build
step or post-build action. Multiple deployments can be executed
sequentially or in parallel. You can check the result and the process
logs in the _Jenkins_ build output.

This task can be used with _RapidDeploy_ 3.3.23 or higher.

Parameters:

* *_RapidDeploy_ server URL*: the URL to the _RapidDeploy_ server you
want to connect to, including the protocol (e.g.:
http://192.168.1.1:8090/MidVision).
* *_RapidDeploy_ authentication token*: the authentication token used to
connect to the _RapidDeploy_ server. It can be generated by the
http://docs.midvision.com/LATEST/reference/tools/web-service-encrypter.html[_MidVision_
encrypter tool].
* *_RapidDeploy_ project name*: the name of the _RapidDeploy_ project
you want to deploy.
* *_RapidDeploy_ project target name*: the _RapidDeploy_ project target
to deploy to (i.e.: SERVER.INSTALLATION.CONFIGURATION).
* *Deployment package name*: the name of the _RapidDeploy_ deployment
package to deploy. Leave this field blank or set it to "LATEST" if you
want to deploy the latest package.
* *Asynchronous job*: this option allows the step to run asynchronously.
The _Jenkins_ job will continue to the next _Jenkins_ step immediately
once the project deployment request has been made to _RapidDeploy._ Use
this option to deploy projects in parallel. _(Synchronous jobs are
supported from RapidDeploy version 3.4.0+)_

[[RapidDeployplugin-RapidDeploypackagecreation]]
=== *_RapidDeploy package creation_*

Invokes a deployment package creation on a _RapidDeploy_ server as
either a build step or post-build action. You can check the result and
the process logs in the _Jenkins_ build output.

This task can be used with _RapidDeploy_ 3.4.5 or higher.

For this particular _Jenkins_ step, when using the version 3.7 or higher
of the plugin it is requested to target a _RapidDeploy_ version 4.0 or
above.

Parameters:

* *_RapidDeploy_ server URL*: the URL to the _RapidDeploy_ server you
want to connect to, including the protocol (e.g.:
http://192.168.1.1:8090/MidVision).
* *_RapidDeploy_ authentication token*: the authentication token used to
connect to the _RapidDeploy_ server. It can be generated by the
http://docs.midvision.com/LATEST/reference/tools/web-service-encrypter.html[_MidVision_
encrypter tool].
* *_RapidDeploy_ project name*: the name of the _RapidDeploy_ project
for which you want to create a new deployment package.
* *Package name*: the name of the _RapidDeploy_ deployment package you
are creating. If not provided, an automatic version incremental name
will be used based on the latest package name.
* *Archive extension*: the extension of the deployment package file to
generate: _jar, war, ear, tar, rar_ or _zip._

[[RapidDeployplugin-RapidDeployjobplanrunner]]
=== *_RapidDeploy job plan runner_*

Invokes a job plan run on a _RapidDeploy_ server as either a build step
or post-build action. Multiple job plans can be executed sequentially or
parallel. You can check the result and the process logs in the _Jenkins_
build output.

This task can be used with RapidDeploy 3.3.23 or higher.

Parameters:

* *_RapidDeploy_ server URL*: the URL to the _RapidDeploy_ server you
want to connect to, including the protocol (e.g.:
http://192.168.1.1:8090/MidVision).
* *_RapidDeploy_ authentication token*: the authentication token used to
connect to the _RapidDeploy_ server. It can be generated by the
http://docs.midvision.com/LATEST/reference/tools/web-service-encrypter.html[_MidVision_
encrypter tool].
* *_RapidDeploy_ job plan*: the ID of the _RapidDeploy_ job plan you
want to run.
* *Asynchronous job*: this option allows the step to run asynchronously.
The _Jenkins_ job will continue to the next _Jenkins_ step immediately
once the job plan run request has been made to _RapidDeploy._ Use this
option to run job plans in parallel. _(Synchronous jobs are supported
from RapidDeploy version 3.4.0+)_
* *Show full logs*: this option allows the user to see the logs of all
the individual project deployments included in the job plan.

[[RapidDeployplugin-JenkinsPipelinesteps]]
== Jenkins Pipeline steps

`+rdPackageBuild:+` invokes a _RapidDeploy_ deployment package creation.

* `+serverUrl+` +
** *Type:* `+String+`
* `+authToken+`
** *Type:* `+String+`
* `+project+`
** *Type:* `+String+`
* `+packageName+` (optional)
** *Type:* `+String+`
* `+archiveExtension+` (optional)
** *Type:* `+String+`

`+rdProjectDeploy:+` invokes a _RapidDeploy_ project deployment.

* `+serverUrl+` +
** *Type:* `+String+`
* `+authToken+`
** *Type:* `+String+`
* `+project+`
** *Type:* `+String+`
* `+target+` +
** *Type:* `+String+`
* `+deploymentPackageName+` (optional)
** *Type:* `+String+`
* `+asynchronous+` (optional)
** *Type:* `+boolean+`
* `+dictionary+` (optional)
** *Type:* `+Map+`

`+rdJobPlanRun+`: invokes a _RapidDeploy_ job plan run.

* `+serverUrl+` +
** *Type:* `+String+`
* `+authToken+`
** *Type:* `+String+`
* `+jobPlanId+`
** *Type:* `+int+`
* `+asynchronous+` (optional)
** *Type:* `+boolean+`
* `+showFullLogs+` (optional)
** *Type:* `+boolean+`

[[RapidDeployplugin-Changelog]]
== Changelog

[[RapidDeployplugin-Version4.0(March,2019)]]
=== *Version 4.0 (March, 2019)*

[[RapidDeployplugin-Features]]
==== *Features*

All the references to the term ‘’Environment” or "Logical environment"
have been replaced by the term “Target” to become properly consistent
with the new terminology of _RapidDeploy 5_.

All the functionality that was duplicated on the Jenkins build steps and
post-build actions, especially the calls to the
https://github.com/MidVision/rapiddeploy-connector[_RapidDeployConnector_],
was fully refactored into a single class.

New functionality for the https://jenkins.io/doc/book/pipeline[Jenkins
Pipeline] was included in the plugin in the form of 3 new pipeline
steps:

* *_rdPackageBuild_*: for _RapidDeploy_ deployment packages creation.
* *_rdProjectDeploy_*: for _RapidDeploy_ project deployments.
* *_rdJobPlanRun_*: for _RapidDeploy_ job plan runs.

[[RapidDeployplugin-Version3.10(March,2017)]]
=== *Version 3.10 (March, 2017)*

[[RapidDeployplugin-Features.1]]
==== *Features*

Added new feature that provides the ability to pass data dictionary
values to the deployment as Jenkins parameters in a parametrized build.
Specify +
data dictionary parameters as @@PARAMETER_NAME@@. In RapidDeploy a new
package will be created with the overridden parameter(s) injected.

This feature is available from RapidDeploy 4.2.2 onwards.

[[RapidDeployplugin-Version3.9(December,2016)]]
=== *Version 3.9 (December, 2016)*

[[RapidDeployplugin-Features.2]]
==== *Features*

Added new RapidDeploy job plan runner as a Build and Post-build step to
be able to run job plans from RapidDeploy.

[[RapidDeployplugin-Version3.8(November,2016)]]
=== *Version 3.8 (November, 2016)*

[[RapidDeployplugin-Features.3]]
==== *Features*

Added support for parametrized builds. Now, to select a package version
to deploy on RapidDeploy there is the option to use a Jenkins parameter.

[[RapidDeployplugin-Version3.2(September,2014)]]
=== *Version 3.2 (September, 2014)*

[[RapidDeployplugin-Features.4]]
==== *Features*

Support all ssl certifications (works with untrusted https urls too). 

Change fields from list to combobox, which will autocomplete the the
project/environment/package names when typing, with the ability to
manually enter fields.

[[RapidDeployplugin-Version3.1(March,2014)]]
=== *Version 3.1 (March, 2014)*

[[RapidDeployplugin-Features.5]]
==== *Features*

Added asynchronous execution option for project deploy steps.

[[RapidDeployplugin-Version3.0(March,2014)]]
=== *Version 3.0 (March, 2014)*

[[RapidDeployplugin-Features.6]]
==== *Features*

Added package build step.

[[RapidDeployplugin-Version2.1(September,2013)]]
=== *Version 2.1 (September, 2013)*

[[RapidDeployplugin-Features.7]]
==== *Features*

Added dynamic lists for project deploy fields. Project deploy step can
be invoked as either a buildstep and postbuildstep.

[[RapidDeployplugin-Version1.0(July,2013)]]
=== *Version 1.0 (July, 2013)*

[[RapidDeployplugin-Features.8]]
==== *Features*

Added initial version of project deploy postbuild step
